import { Repository } from 'typeorm';
import { Transaction } from './entities/transaction.entity';
import { BlockScanState } from './entities/block-scan.entity';
import { UserBnbBalance } from './entities/user-balance.entity';
import { Cache } from 'cache-manager';
export declare class BscscanService {
    private transactionRepository;
    private userBnbBalanceRepository;
    private blockScanStateRepository;
    private cacheManager;
    private readonly logger;
    private contractAddress;
    private apiKey;
    private apiUrl;
    private maxBlocksPerScan;
    private isScanning;
    private isScanningOld;
    private latestBlock;
    private readonly cacheTtl;
    constructor(transactionRepository: Repository<Transaction>, userBnbBalanceRepository: Repository<UserBnbBalance>, blockScanStateRepository: Repository<BlockScanState>, cacheManager: Cache);
    private initializeScanState;
    scanNewBlocks(): Promise<void>;
    scanOldBlocks(): Promise<void>;
    scanBlockRange(startBlock: number, endBlock: number, targetCount: number): Promise<number>;
    getTransactionCountInRange(startBlock: number, endBlock: number): Promise<number>;
    private getLatestBlockNumber;
    private fetchTransactions;
    private filterOutgoingBnbTransactions;
    private saveTransactions;
    getReceivedTransactions(address: string): Promise<Transaction[]>;
    getTotalReceivedBnb(address: string): Promise<number>;
}
